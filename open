#!/bin/sh

open() {
    case "$1" in
        *.md|*.c|*.py)
            urxvt -e /bin/sh -c "vim "$1""
            ;;
        *.png|*.jpg|*.jpeg|*.JPG)
            meh "$1"
            ;;
        *.pdf)
            mupdf "$1"
            ;;
        *.mp4|*.mkv|*.mpv)
            mpv "$1"
            ;;
        *)
            echo "Fallback to xdg-open" > /dev/stderr
            xdg-open "$1" > /dev/null
    esac
}

if [ -z "$1" ]; then
    echo "Usage: $(basename $0) <1>" > /dev/stderr
    exit 1
fi

open "$1" > /dev/null 2>&1 &

#!/bin/bash
FILE="$HOME/.todo"

usage() {
	echo "Usage: $(basename $0) [hne] [a todo]"
	exit 1
}

add() {
	test $# -eq 0 && usage
	echo "$@" | tee -a $FILE 1> /dev/null
}

main() {
	opt=$1
	shift 1
	case "$opt" in
	    e) vim $FILE ;;
	    n) <$FILE wc -l ;;
	    a) add "$@" ;;
	  h|?) usage ;;
	    *) <$FILE nl
	esac
}

main "$@"
